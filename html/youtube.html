<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>youtube</title>
    <link rel="stylesheet" href="./partials/navbar.css">
    <link rel="stylesheet" href="../css/youtube.css">
</head>
<body>

        <div id="loader-placeholder"></div>

        <div class="whole-container">
        <div id="navbar-placeholder"></div>

         <div class="container">
    <h1>1st Year Physics - YouTube Video Resources</h1>
    <p class="subheading">Carefully selected topic-wise video lectures</p>

    <!--   <div class="search-container">
        <input type="text" class="search-box" placeholder="üîç Search a topic...">
      </div> -->

 <div class="wrapper">
          <div class="item item1"><h4>HHTML</h4></div>
          <div class="item item2"><h4>OS</h4></div>
          <div class="item item3"><h4>SQL</h4></div>
          <div class="item item4"><h4>JAVA</h4></div>
          <div class="item item5"><h4>PYTHON</h4></div>
          <div class="item item6"><h4>C</h4></div>
          <div class="item item7"><h4>DBMS</h4></div>
          <div class="item item8"><h4>DSA</h4></div>
      </div>

    <div class="video-grid">
      <div class="video-box">
        <div class="in-bx">
        <iframe width="100%" height="400"
          src="https://www.youtube.com/embed/videoseries?list=PLQzUXa8lZVq8lfZN5836sohUpRCt2b6oB&si=Nk8PmM-NuLlZJ9tV "
          frameborder="0"
          allowfullscreen>
          </div>
      </iframe>
        <p title="click here to see reviews">Semi Conuctors</p>
        <span class="review-hint">Click to view reviews & rate ‚≠ê</span>
        </div>
      </div>
      <div class="video-box">
            <div class="in-bx">
        <iframe src="https://www.youtube.com/embed/videoseries?list=PLgAPsuFfwjTpcHSI3zhNslo0Q9oxkxkU6&si=JB4umYKqvWdZn3Xt" frameborder="0" allowfullscreen></iframe>
        <p title="click here to see reviews">Inference</p>
        <span class="review-hint">Click to view reviews & rate ‚≠ê</span>
        </div>
      </div>
      <div class="video-box">
            <div class="in-bx">
        <iframe src="https://www.youtube.com/embed/videoseries?list=PLQzUXa8lZVq8fMOiqtCyE-HNIVWkG1C6V&si=fFj7LGSmxQ_YErW" frameborder="0" allowfullscreen></iframe>
        <p title="click here to see reviews">Diffraction</p>
        <span class="review-hint">Click to view reviews & rate ‚≠ê</span>
        </div>
      </div>
      <div class="video-box">
          <div class="in-bx">
        <iframe src="https://www.youtube.com/embed/videoseries?list=PL2xHbdoT5bU8dTo3Ia88FX59f9TkPWYex&si=c2KvFwrEftO7sUQA" frameborder="0" allowfullscreen></iframe>
        <p title="click here to see reviews">Qunatum Mechanics</p>
        <span class="review-hint">Click to view reviews & rate ‚≠ê</span>
        </div>
      </div>
       <div class="video-box">
        <div class="in-bx">
        <iframe src="https://www.youtube.com/embed/videoseries?list=PLZDsLVvHvH5vurcwO1Tg7CqvpDxRd5V8Y&si=Bu2CAoRmjAR5YK4j" frameborder="0" allowfullscreen></iframe>
        <p title="click here to see reviews">Polarization</p>
        <span class="review-hint">Click to view reviews & rate ‚≠ê</span>
        </div>
      </div>
    </div>
  </div>

       
<div id="review-popup" class="popup" style="display:none;">
  <p>New! Rate & review any video. Just click on it ‚≠ê</p>
  <button onclick="closePopup()">Got it</button>
</div>

</div>

<script>
  fetch("./partials/loader.html")
    .then(res => res.text())
    .then(data => {
      document.getElementById("loader-placeholder").innerHTML = data;
    });  

  
  
  fetch("./partials/navbar.html")
    .then(res => res.text())
    .then(data => {
      document.getElementById("navbar-placeholder").innerHTML = data;

      
      document.querySelector(".menu-btn")?.addEventListener("click", () => {
        document.querySelector(".sidebar").style.display = "flex";
      });

      document.querySelector(".close-img")?.addEventListener("click", () => {
        document.querySelector(".sidebar").style.display = "none";
      });
    });


   
  const videoBoxes = document.querySelectorAll(".video-box");


videoBoxes.forEach((box) => {
        box.addEventListener("click", () => {
      videoBoxes.forEach((b) => {
      if (b !== box) b.style.display = "none";
      });

      box.classList.add("expanded");

      if (!box.querySelector(".review-section")) {
      const reviewDiv = document.createElement("div");
      reviewDiv.classList.add("review-section");

      reviewDiv.innerHTML = `
        <h3>Rate & Review this video</h3>
        <textarea placeholder="Write your review..." class="review-text"></textarea>
        <br/>
        <select class="rating-select">
        <option disabled selected>Rate this video</option>
        <option>‚≠ê</option>
        <option>‚≠ê‚≠ê</option>
        <option>‚≠ê‚≠ê‚≠ê</option>
        <option>‚≠ê‚≠ê‚≠ê‚≠ê</option>
        <option>‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</option>
        </select>
        <button class="submit-review">Submit Review</button>
        <div class="dynamic-reviews">
        <h4>What others say:</h4>
        <ul class="review-list"></ul>
        </div>
        <button class="back-btn">Back</button>
      `;

      box.appendChild(reviewDiv);

      const submitBtn = reviewDiv.querySelector(".submit-review");
      const reviewList = reviewDiv.querySelector(".review-list");
      const videoTitle = box.querySelector("p").textContent;
      const reviewTextEl = reviewDiv.querySelector(".review-text");
      const ratingEl = reviewDiv.querySelector(".rating-select");

      
      const savedReviews = JSON.parse(localStorage.getItem("reviews") || "{}")[videoTitle] || [];
      savedReviews.forEach((r) => {
        const item = document.createElement("li");
        item.textContent = r;
        reviewList.appendChild(item);
      });

      submitBtn.addEventListener("click", () => {
        const text = reviewTextEl.value.trim();
        const rating = ratingEl.value;
        if (!text || !rating.includes("‚≠ê")) {
        alert("Please enter review and rating.");
        return;
        }

        const newItem = document.createElement("li");
        newItem.textContent = `${rating} - ${text}`;
        reviewList.appendChild(newItem);

      
        const reviews = JSON.parse(localStorage.getItem("reviews") || "{}");
        reviews[videoTitle] = reviews[videoTitle] || [];
        reviews[videoTitle].push(`${rating} - ${text}`);
        localStorage.setItem("reviews", JSON.stringify(reviews));

        reviewTextEl.value = "";
        ratingEl.selectedIndex = 0;
      });

      
      reviewDiv.querySelector(".back-btn").addEventListener("click", () => {
        location.reload();
      });
      }
      });
      });
function closePopup() {
  document.getElementById("review-popup").style.display = "none";

  localStorage.setItem("reviewHintShown", "true");
}


  window.addEventListener("load", () => {
    const loader = document.getElementById("loader");
    const mainContent = document.querySelector(".whole-container");

    if (loader) {
      loader.classList.add("fade-out");

      setTimeout(() => {
        loader.style.display = "none";
        mainContent.style.opacity = "1";
        document.body.style.overflow = "auto";

        const shown = localStorage.getItem("reviewHintShown");
        if (!shown) {
          document.getElementById("review-popup").style.display = "block";
        }

        const boxes = document.querySelectorAll(".video-box");
        boxes.forEach((box, index) => {
          setTimeout(() => {
            box.classList.add("fade-in");
          }, 150 * index);
        });
      }, 500); 
    }
  });


</script>

</body>
</html>